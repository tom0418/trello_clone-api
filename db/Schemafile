# frozen_string_literal: true

create_table 'roles', force: :cascade, options: 'ENGINE=InnoDB DEFAULT CHARSET=utf8mb4' do |t|
  t.bigint     'role_type_id',            null: false
  t.timestamps
end

create_table 'users', force: :cascade, options: 'ENGINE=InnoDB DEFAULT CHARSET=utf8mb4' do |t|
  t.string     'first_name',             null: false, default: ''
  t.string     'last_name',              null: false, default: ''
  t.string     'nickname',               null: false, default: ''
  t.string     'image'
  t.string     'email',                  null: false, default: ''
  t.string     'encrypted_password',     null: false, default: ''
  t.string     'reset_password_token'
  t.datetime   'reset_password_sent_at'
  t.datetime   'remember_created_at'
  t.string     'confirmation_token'
  t.datetime   'confirmed_at'
  t.datetime   'confirmation_sent_at'
  t.timestamps
end
add_index 'users', %w[email],                 unique: true, name: 'index_users_on_email'
add_index 'users', %w[reset_password_token],  unique: true, name: 'index_users_on_reset_password_token'
add_index 'users', %w[confirmation_token],    unique: true, name: 'index_users_on_confirmation_token'

create_table 'users_roles', force: :cascade, options: 'ENGINE=InnoDB DEFAULT CHARSET=utf8mb4' do |t|
  t.bigint     'user_id'
  t.bigint     'role_id'
end
add_index 'users_roles', %w[user_id],                       name: 'index_users_roles_on_user_id'
add_index 'users_roles', %w[role_id],                       name: 'index_users_roles_on_role_id'
add_index 'users_roles', %w[user_id role_id],               name: 'index_users_roles_on_user_id_and_role_id'
add_foreign_key 'users_roles', 'users',                     name: 'fk_users_roles_users1'
add_foreign_key 'users_roles', 'roles',                     name: 'fk_users_roles_roles1'

create_table 'todos', force: :cascade, options: 'ENGINE=InnoDB DEFAULT CHARSET=utf8mb4' do |t|
  t.string     'title', null: false, default: ''
  t.text       'memo'
  t.timestamps
end
